package com.vcontrol.vcontroliot.fragment;

import android.text.TextUtils;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.RadioGroup;

import com.vcontrol.vcontroliot.R;
import com.vcontrol.vcontroliot.util.EventNotifyHelper;
import com.vcontrol.vcontroliot.util.UiEventEntry;

/**
 * Created by Vcontrol on 2016/11/23.
 */

public class ZWFragment extends BaseFragment implements View.OnClickListener,EventNotifyHelper.NotificationCenterDelegate
{

    private RadioGroup planTypeGroup;
    private RadioGroup modelTypeGroup;
    private RadioGroup plan485Group;
    private EditText addValueEditText;
    private EditText rangeEditText;
    private Button addValueButton;
    private Button rangeButton;

    @Override
    public int getLayoutView()
    {
        return R.layout.fragment_sensor_zw;
    }

    @Override
    public void onDestroy()
    {
        super.onDestroy();
        EventNotifyHelper.getInstance().removeObserver(this, UiEventEntry.READ_DATA);
    }

    @Override
    public void initComponentViews(View view)
    {
        EventNotifyHelper.getInstance().addObserver(this, UiEventEntry.READ_DATA);
        addValueEditText = (EditText) view.findViewById(R.id.zha_add_value);
        rangeEditText = (EditText) view.findViewById(R.id.model_zha_range);
        addValueButton = (Button) view.findViewById(R.id.zha_add_value_button);
        rangeButton = (Button) view.findViewById(R.id.model_zha_range_button);
        planTypeGroup = (RadioGroup) view.findViewById(R.id.zha_plan_type);
        modelTypeGroup = (RadioGroup) view.findViewById(R.id.model_zha_type);
        plan485Group = (RadioGroup) view.findViewById(R.id.zha_plan_485);

        initView(view);
    }

    private void initView(final View view)
    {
        // 闸位计类型
        planTypeGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()
        {

            @Override
            public void onCheckedChanged(RadioGroup group, int checkedId)
            {
                View checkView = view.findViewById(checkedId);
                if (!checkView.isPressed())
                {
                    return;
                }
                if (checkedId == R.id.zha_plan_type_button)
                {
                }
                else if (checkedId == R.id.zha_plan_type_button2)
                {
                }
                else if (checkedId == R.id.zha_plan_type_button3)
                {
                }
            }
        });

        // 模拟量闸位计类型
        modelTypeGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()
        {

            @Override
            public void onCheckedChanged(RadioGroup group, int checkedId)
            {
                View checkView = view.findViewById(checkedId);
                if (!checkView.isPressed())
                {
                    return;
                }
                if (checkedId == R.id.model_zha_type_button)
                {
                }
                else if (checkedId == R.id.model_zha_type_button2)
                {
                }
                else if (checkedId == R.id.model_zha_type_button3)
                {
                }
                else if (checkedId == R.id.model_zha_type_button4)
                {
                }
            }
        });

        // 485闸位计
        plan485Group.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()
        {

            @Override
            public void onCheckedChanged(RadioGroup group, int checkedId)
            {
                View checkView = view.findViewById(checkedId);
                if (!checkView.isPressed())
                {
                    return;
                }
                if (checkedId == R.id.zha_plan_485_button)
                {
                }
                else if (checkedId == R.id.zha_plan_485_button2)
                {
                }
                else if (checkedId == R.id.zha_plan_485_button3)
                {
                }
            }
        });
    }

    @Override
    public void initData()
    {

    }

    @Override
    public void setListener()
    {
        addValueButton.setOnClickListener(this);
        rangeButton.setOnClickListener(this);
    }

    @Override
    public void onClick(View view)
    {

        String zhawei = "";
        switch (view.getId())
        {
            case R.id.zha_add_value_button:
                zhawei = addValueEditText.getText().toString().trim();
                break;
            case R.id.model_zha_range_button:
                zhawei = rangeEditText.getText().toString().trim();

                break;

            default:
                break;
        }
    }

    @Override
    public void didReceivedNotification(int id, Object... args)
    {
        String result = (String) args[0];
        String content = (String) args[1];
        if (TextUtils.isEmpty(result) || TextUtils.isEmpty(content))
        {
            return;
        }
//        setData(result);
    }
}
